# goeach
goeachは、Windowsでfind+xargsのようなバッチ処理を実現するためのコマンドです。  
このコマンドは対象のディレクトリ以下のファイルを全て収集して、その全てのファイルに対してコマンドを実行します。  
このとき実行されるコマンドは事前に渡された`コマンドの雛形となる文字列`を展開することで作られます。
  
以下は雛形の一例です。
````
echo ${file}
echo ${dir}
echo ${path}
````

実際にこれをgoeachで実行するには以下のようになります。
````
goeach -cmd "echo ${file}"
````

-aオプションを使用すると並列化されます。
````
goeach -cmd "echo ${file}" -a
````

-iオプションを使用するとコマンドを実行せずに実行される予定のコマンドを表示だけします。  
このオプションを使用する場合は -a は無視されます。
````
goeach -cmd "echo ${file}" -i
````

ファイルを収集するディレクトリを変更するには -dir を使用します。  
-p を使用するとファイル名に対して正規表現マッチを行い、マッチしなかったものは対象から除外します。
````
goeach -cmd "echo ${file}" -p .+\.go -dir goeach
````



# install
````
git clone goeach
cd goeach
go install
````

# コマンド展開時に使用できる変数
* file
  * 現在対象となっているファイル名(拡張子を含む)
* dir
  * 現在対象となっているファイルが含まれるディレクトリ
* path
  * 現在対象となっているファイルの完全パス